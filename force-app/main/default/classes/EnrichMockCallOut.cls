public class EnrichMockCallOut  implements HttpCalloutMock {

     public HTTPResponse respond(HTTPRequest request) {
        HttpResponse response = new HttpResponse();
        response.setHeader('Content-Type', 'application/json');
        response.setStatusCode(200);
         
        if (request.getEndpoint().contains('token'))
        	response.setBody('{"access_token":"c53dc138-197e-3ac2-9a7e-216b0610f683","scope":"am_application_scope default","token_type":"Bearer","expires_in":604712}');
        else
            response.setBody('{"etablissement":{"id":1543306730,"siren":"451323828","nic":"00066","siret":"45132382800066","statut_diffusion":"O","date_creation":"2016-12-21","tranche_effectifs":"22","annee_effectifs":"2019","activite_principale_registre_metiers":null,"date_dernier_traitement":"2021-10-27T08:07:08","etablissement_siege":"true","nombre_periodes":"1","complement_adresse":null,"numero_voie":"64","indice_repetition":null,"type_voie":"RUE","libelle_voie":"LA BOETIE","code_postal":"75008","libelle_commune":"PARIS 8","libelle_commune_etranger":null,"distribution_speciale":null,"code_commune":"75108","code_cedex":null,"libelle_cedex":null,"code_pays_etranger":null,"libelle_pays_etranger":null,"complement_adresse_2":null,"numero_voie_2":null,"indice_repetition_2":null,"type_voie_2":null,"libelle_voie_2":null,"code_postal_2":null,"libelle_commune_2":null,"libelle_commune_etranger_2":null,"distribution_speciale_2":null,"code_commune_2":null,"code_cedex_2":null,"libelle_cedex_2":null,"code_pays_etranger_2":null,"libelle_pays_etranger_2":null,"date_debut":"2016-12-21","etat_administratif":"A","enseigne_1":null,"enseigne_2":null,"enseigne_3":null,"denomination_usuelle":null,"activite_principale":"70.22Z","nomenclature_activite_principale":"NAFRev2","caractere_employeur":"O","longitude":"2.311981","latitude":"48.873323","geo_score":"0.61","geo_type":"housenumber","geo_adresse":"64 Rue la Boétie 75008 Paris","geo_id":"75108_5194_00064","geo_ligne":"G","geo_l4":"64 RUE LA BOETIE","geo_l5":null,"unite_legale_id":235814665,"created_at":"2021-08-03T04:37:46.371+02:00","updated_at":"2021-10-29T03:25:27.222+02:00","unite_legale":{"id":235814665,"siren":"451323828","statut_diffusion":"O","unite_purgee":null,"date_creation":"2004-01-02","sigle":null,"sexe":null,"prenom_1":null,"prenom_2":null,"prenom_3":null,"prenom_4":null,"prenom_usuel":null,"pseudonyme":null,"identifiant_association":null,"tranche_effectifs":"22","annee_effectifs":"2019","date_dernier_traitement":"2021-10-27T08:07:08","nombre_periodes":"11","categorie_entreprise":"PME","annee_categorie_entreprise":"2019","date_fin":null,"date_debut":"2019-12-31","etat_administratif":"A","nom":null,"nom_usage":null,"denomination":"VELVET CONSULTING","denomination_usuelle_1":null,"denomination_usuelle_2":null,"denomination_usuelle_3":null,"categorie_juridique":"5710","activite_principale":"70.22Z","nomenclature_activite_principale":"NAFRev2","nic_siege":"00066","economie_sociale_solidaire":"N","caractere_employeur":"O","created_at":"2021-08-03T02:53:08.898+02:00","updated_at":"2021-10-29T02:34:48.612+02:00","etablissement_siege":{"id":1543306730,"siren":"451323828","nic":"00066","siret":"45132382800066","statut_diffusion":"O","date_creation":"2016-12-21","tranche_effectifs":"22","annee_effectifs":"2019","activite_principale_registre_metiers":null,"date_dernier_traitement":"2021-10-27T08:07:08","etablissement_siege":"t","nombre_periodes":"1","complement_adresse":null,"numero_voie":"64","indice_repetition":null,"type_voie":"RUE","libelle_voie":"LA BOETIE","code_postal":"75008","libelle_commune":"PARIS 8","libelle_commune_etranger":null,"distribution_speciale":null,"code_commune":"75108","code_cedex":null,"libelle_cedex":null,"code_pays_etranger":null,"libelle_pays_etranger":null,"complement_adresse_2":null,"numero_voie_2":null,"indice_repetition_2":null,"type_voie_2":null,"libelle_voie_2":null,"code_postal_2":null,"libelle_commune_2":null,"libelle_commune_etranger_2":null,"distribution_speciale_2":null,"code_commune_2":null,"code_cedex_2":null,"libelle_cedex_2":null,"code_pays_etranger_2":null,"libelle_pays_etranger_2":null,"date_debut":"2016-12-21","etat_administratif":"A","enseigne_1":null,"enseigne_2":null,"enseigne_3":null,"denomination_usuelle":null,"activite_principale":"70.22Z","nomenclature_activite_principale":"NAFRev2","caractere_employeur":"O","longitude":"2.311981","latitude":"48.873323","geo_score":"0.61","geo_type":"housenumber","geo_adresse":"64 Rue la Boétie 75008 Paris","geo_id":"75108_5194_00064","geo_ligne":"G","geo_l4":"64 RUE LA BOETIE","geo_l5":null,"unite_legale_id":235814665,"created_at":"2021-08-03T04:37:46.371+02:00","updated_at":"2021-10-29T03:25:27.222+02:00"},"numero_tva_intra":"FR03451323828"}}}');
         
        return response; 
    }

}